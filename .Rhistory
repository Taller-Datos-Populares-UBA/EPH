install.packages('eph', dependencies = TRUE)
library(eph)
library(dplyr)
library(tidyr)
library(purrr)
library(ggplot2)
library("rstudioapi")
dato_21_3 <- get_microdata(year=2021, trimester=3, type='individual')#, destfile="EPH-3-2021.csv")
dato_21_3 <- organize_labels(df=dato_21_3, type='individual')
dato_21_3 %>% View
?get_microdata
dato_21_3 %>% View
dato_21_3 %>% View
getwd()
setwd(dirname(getSourceEditorContext()$path))
getwd()
dato_21_3 <- get_microdata(year=2021, trimester=3, type='individual', destfile="./data/EPH-3-2021.RDS")
dato_21_3 <- get_microdata(year=2021, trimester=3, type='individual', destfile="./data/EPH-3-2021.RDS")
files <- list.files("./data")
files
dato_21_2 <- get_microdata(year=2021, trimester=2, type='individual',
destfile=paste(dirname(getSourceEditorContext()$path),
"./data/EPH-2-2021.rds",sep=""))
dato2 <- get_microdata(year=2021, trimester=3, type='individual',
destfile="./data/EPH-3-2021.rds")
dato2 <- get_microdata(year=2021, trimester=2, type='individual',
destfile="./data/EPH-2-2021.rds")
files <- list.files("./data")
files
dato_21_4 <- get_microdata(year=2021, trimester=4, type='individual',
destfile="./data/EPH-4-2021.RDS")
dato_22_4 <- get_microdata(year=2022, trimester=4, type='individual',
destfile="./data/EPH-4-2022.RDS")
dato_22_1 <- get_microdata(year=2022, trimester=1, type='individual',
destfile="./data/EPH-1-2022.RDS")
cargar_base(año, trimestre, ):
string <- paste("./data/EPH", trimestre, año, sep="-")
string <- paste(string, "RDS", sep=".")
if(año>2003){
print(string)
}else{
print("h")
}
cargar_base(2014, 2)
cargar_base <- function(año, trimestre, ){
string <- paste("./data/EPH", trimestre, año, sep="-")
string <- paste(string, "RDS", sep=".")
if(año>2003){
print(string)
}else{
print("h")
}
}
cargar_base <- function(año, trimestre, ){
string <- paste("./data/EPH", trimestre, año, sep="-")
string <- paste(string, "RDS", sep=".")
if(año>2003){
print(string)
}else{
print("h")
}
}
cargar_base <- function(año, trimestre){
string <- paste("./data/EPH", trimestre, año, sep="-")
string <- paste(string, "RDS", sep=".")
if(año>2003){
print(string)
}else{
print("h")
}
}
cargar_base(2014, 2)
cargar_base(2000, 2)
?get_microdata
cargar_base <- function(año, periodo){
string <- paste("./data/EPH", trimestre, año, sep="-")
string <- paste(string, "RDS", sep=".")
if(año>2003){
df <- get_microdata(year=año, trimester=periodo, type='individual', destfile=string)
}else{
df <- get_microdata(year=año, wave=periodo, type='individual', destfile=string)
}
return(df)
}
cargar_base <- function(año, periodo){
string <- paste("./data/EPH", trimestre, año, sep="-")
string <- paste(string, "RDS", sep=".")
if(año>2003){
get_microdata(year=año, trimester=periodo, type='individual', destfile=string)
}else{
get_microdata(year=año, wave=periodo, type='individual', destfile=string)
}
#return(df)
}
df <- cargar_base(2000, 2)
cargar_base <- function(año, periodo){
string <- paste("./data/EPH", periodo, año, sep="-")
string <- paste(string, "RDS", sep=".")
if(año>2003){
get_microdata(year=año, trimester=periodo, type='individual', destfile=string)
}else{
get_microdata(year=año, wave=periodo, type='individual', destfile=string)
}
#return(df)
}
df <- cargar_base(2000, 2)
df <- organize_labels(df=df, type='individual')
df %>% View
df <- cargar_base(2005, 2)
df %>% View
warnings()
df <- cargar_base(2000, 2)
df <- organize_labels(df=df, type='individual')
df <- cargar_base(2005, 2)
df <- organize_labels(df=df, type='individual')
df %>% View
?organize_labels
getwd()
a <- "abcdef"
a[:2]
a[2]
df <- cargar_base(2003, 2, "individual")#cargamos la base
cargar_base <- function(año, periodo, tipo){
string <- paste("./data/EPH", periodo, año, tipo, sep="-")
string <- paste(string, "RDS", sep=".")
if(año>2003){
get_microdata(year=año, trimester=periodo, type=tipo, destfile=string)
}else{
get_microdata(year=año, wave=periodo, type=tipo, destfile=string)
}
}
df <- cargar_base(2003, 2, "individual")#cargamos la base
df <- cargar_base(2003, 1, "individual")#cargamos la base
df <- cargar_base(2002, 4, "individual")#cargamos la base
cargar_base <- function(año, periodo, tipo){
string <- paste("./data/EPH", periodo, año, tipo, sep="-")
string <- paste(string, "RDS", sep=".")
if(año>2003 || (año==2003 && periodo>2)){
get_microdata(year=año, trimester=periodo, type=tipo, destfile=string)
}else{
get_microdata(year=año, wave=periodo, type=tipo, destfile=string)
}
}
df <- cargar_base(2003, 4, "individual")#cargamos la base
Sys.date()
Sys.Date()
lubridate(Sys.Date())
lubridate.quarter(Sys.Date())
lubridate::quarter(Sys.Date)
lubridate::quarter(Sys.Date())
año <- lubridate::year(Sys.Date())
lubridate::year(Sys.Date())
lubridate::year(Sys.Date())
lubridate::year(Sys.Date())
lubridate::quarter(Sys.Date())
Sys.Date()
get_microdata(year=2022, trimester=2, type="individual")
get_microdata(year=2022, trimester=1, type="individual")
get_microdata(year=2021, trimester=1, type="individual")
get_microdata(year=2021, trimester=4, type="individual")
get_microdata(year=2022, trimester=2, type="individual")
print(dirname(getSourceEditorContext()$path))
library(eph)
library(dplyr)
library(tidyr)
library(purrr)
library(ggplot2)
library("rstudioapi")
print(dirname(getSourceEditorContext()$path))
